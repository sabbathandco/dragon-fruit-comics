[debug] [2023-11-23T05:21:31.728Z] ----------------------------------------------------------------------
[debug] [2023-11-23T05:21:31.729Z] Command:       /Users/jonnysabbath/.nvm/versions/node/v18.18.2/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2023-11-23T05:21:31.729Z] CLI Version:   12.9.1
[debug] [2023-11-23T05:21:31.729Z] Platform:      darwin
[debug] [2023-11-23T05:21:31.729Z] Node Version:  v18.18.2
[debug] [2023-11-23T05:21:31.733Z] Time:          Thu Nov 23 2023 00:21:31 GMT-0500 (Eastern Standard Time)
[debug] [2023-11-23T05:21:31.734Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-23T05:21:31.767Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-23T05:21:31.767Z] > authorizing via signed-in user (jonny@sabbathand.co)
[debug] [2023-11-23T05:21:31.767Z] [iam] checking project dragon-fruit-comics-d4704 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-11-23T05:21:31.768Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dragon-fruit-comics-d4704:testIamPermissions [none]
[debug] [2023-11-23T05:21:31.768Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dragon-fruit-comics-d4704:testIamPermissions x-goog-quota-user=projects/dragon-fruit-comics-d4704
[debug] [2023-11-23T05:21:31.769Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dragon-fruit-comics-d4704:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-11-23T05:21:32.084Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dragon-fruit-comics-d4704:testIamPermissions 200
[debug] [2023-11-23T05:21:32.085Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dragon-fruit-comics-d4704:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-11-23T05:21:32.085Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/dragon-fruit-comics-d4704/serviceAccounts/dragon-fruit-comics-d4704@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-11-23T05:21:32.085Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/dragon-fruit-comics-d4704/serviceAccounts/dragon-fruit-comics-d4704@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-11-23T05:21:32.342Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/dragon-fruit-comics-d4704/serviceAccounts/dragon-fruit-comics-d4704@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-11-23T05:21:32.342Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/dragon-fruit-comics-d4704/serviceAccounts/dragon-fruit-comics-d4704@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'dragon-fruit-comics-d4704'...
[info] 
[info] i  deploying functions 
[debug] [2023-11-23T05:21:32.348Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 [none]
[debug] [2023-11-23T05:21:32.689Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 200
[debug] [2023-11-23T05:21:32.689Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 {"projectId":"dragon-fruit-comics-d4704","projectNumber":"90911950757","displayName":"Dragon Fruit Comics","name":"projects/dragon-fruit-comics-d4704","resources":{"hostingSite":"dragon-fruit-comics-d4704","realtimeDatabaseInstance":"dragon-fruit-comics-d4704-default-rtdb","storageBucket":"dragon-fruit-comics-d4704.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97dbca98-ba61-4801-8686-31d7c2a8638a"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-11-23T05:21:32.692Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudfunctions.googleapis.com [none]
[debug] [2023-11-23T05:21:32.692Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/dragon-fruit-comics-d4704
[debug] [2023-11-23T05:21:32.694Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/runtimeconfig.googleapis.com [none]
[debug] [2023-11-23T05:21:32.694Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/dragon-fruit-comics-d4704
[debug] [2023-11-23T05:21:32.695Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudbuild.googleapis.com [none]
[debug] [2023-11-23T05:21:32.695Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dragon-fruit-comics-d4704
[debug] [2023-11-23T05:21:32.696Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/artifactregistry.googleapis.com [none]
[debug] [2023-11-23T05:21:32.696Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dragon-fruit-comics-d4704
[debug] [2023-11-23T05:21:33.212Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudbuild.googleapis.com 200
[debug] [2023-11-23T05:21:33.212Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-11-23T05:21:33.213Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/artifactregistry.googleapis.com 200
[debug] [2023-11-23T05:21:33.213Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-11-23T05:21:33.215Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/runtimeconfig.googleapis.com 200
[debug] [2023-11-23T05:21:33.215Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-11-23T05:21:33.215Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudfunctions.googleapis.com 200
[debug] [2023-11-23T05:21:33.215Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dragon-fruit-comics-d4704/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-11-23T05:21:33.216Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/adminSdkConfig [none]
[debug] [2023-11-23T05:21:33.613Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/adminSdkConfig 200
[debug] [2023-11-23T05:21:33.613Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/adminSdkConfig {"projectId":"dragon-fruit-comics-d4704","databaseURL":"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com","storageBucket":"dragon-fruit-comics-d4704.appspot.com","locationId":"us-central"}
[debug] [2023-11-23T05:21:33.615Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs [none]
[debug] [2023-11-23T05:21:33.904Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs 200
[debug] [2023-11-23T05:21:33.905Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs {"configs":[{"name":"projects/dragon-fruit-comics-d4704/configs/openai"}]}
[debug] [2023-11-23T05:21:33.905Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables [none]
[debug] [2023-11-23T05:21:34.149Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables 200
[debug] [2023-11-23T05:21:34.149Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables {"variables":[{"name":"projects/dragon-fruit-comics-d4704/configs/openai/variables/key","updateTime":"2023-11-23T05:06:03.778174320Z"}]}
[debug] [2023-11-23T05:21:34.151Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables/key [none]
[debug] [2023-11-23T05:21:34.323Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables/key 200
[debug] [2023-11-23T05:21:34.324Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704/configs/openai/variables/key {"name":"projects/dragon-fruit-comics-d4704/configs/openai/variables/key","updateTime":"2023-11-23T05:06:03.778174320Z","text":"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"}
[debug] [2023-11-23T05:21:34.327Z] Validating nodejs source
[debug] [2023-11-23T05:21:34.801Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "openai": "^3.3.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-23T05:21:34.802Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2023-11-23T05:21:34.802Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-23T05:21:34.809Z] Found firebase-functions binary at '/Users/jonnysabbath/Desktop/Project-3-FirebaseTests2/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8997

[debug] [2023-11-23T05:21:35.080Z] Got response from /__/functions.yaml {"endpoints":{"createDialogue":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"createDialogue"},"generateImage":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"generateImage"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/jonnysabbath/Desktop/Project-3-FirebaseTests2/functions (74.99 KB) for uploading 
[debug] [2023-11-23T05:21:35.107Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/-/functions [none]
[debug] [2023-11-23T05:21:35.661Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/-/functions 200
[debug] [2023-11-23T05:21:35.661Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/-/functions {"functions":[{"name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"dragon-fruit-comics-d4704@appspot.gserviceaccount.com","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"398ba686561085c9a823e8ea1267df6d737ec732"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/242002bf-8bdf-4502-924f-394396aa2710.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},{"name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"dragon-fruit-comics-d4704@appspot.gserviceaccount.com","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"398ba686561085c9a823e8ea1267df6d737ec732"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/242002bf-8bdf-4502-924f-394396aa2710.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-11-23T05:21:35.664Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dragon-fruit-comics-d4704/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-11-23T05:21:36.145Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dragon-fruit-comics-d4704/locations/-/functions 200
[debug] [2023-11-23T05:21:36.145Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dragon-fruit-comics-d4704/locations/-/functions {}
[debug] [2023-11-23T05:21:36.151Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 [none]
[debug] [2023-11-23T05:21:36.414Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 200
[debug] [2023-11-23T05:21:36.414Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dragon-fruit-comics-d4704 {"projectId":"dragon-fruit-comics-d4704","projectNumber":"90911950757","displayName":"Dragon Fruit Comics","name":"projects/dragon-fruit-comics-d4704","resources":{"hostingSite":"dragon-fruit-comics-d4704","realtimeDatabaseInstance":"dragon-fruit-comics-d4704-default-rtdb","storageBucket":"dragon-fruit-comics-d4704.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97dbca98-ba61-4801-8686-31d7c2a8638a"}
[debug] [2023-11-23T05:21:36.416Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-11-23T05:21:36.416Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-11-23T05:21:36.928Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-11-23T05:21:36.929Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D"}
[debug] [2023-11-23T05:21:36.931Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip GoogleAccessId=service-90911950757%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D
[debug] [2023-11-23T05:21:36.932Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip [stream]
[debug] [2023-11-23T05:21:37.247Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip 200
[debug] [2023-11-23T05:21:37.247Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function createDialogue(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function generateImage(us-central1)... 
[debug] [2023-11-23T05:21:37.256Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2023-11-23T05:21:37.256Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue {"name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","entryPoint":"createDialogue","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2023-11-23T05:21:37.726Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue 200
[debug] [2023-11-23T05:21:37.726Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z"}}
[debug] [2023-11-23T05:21:37.727Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:37.937Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:37.937Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z"}}
[debug] [2023-11-23T05:21:38.441Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:21:38.442Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:38.621Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:38.622Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:21:39.622Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:21:39.623Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:39.816Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:39.816Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:21:41.818Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:21:41.820Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:42.020Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:42.020Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:21:46.020Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:21:46.021Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:46.212Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:46.212Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:21:54.214Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:21:54.214Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:21:54.424Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:21:54.425Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:22:04.426Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:22:04.427Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:22:04.616Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:22:04.616Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:21:37Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"}}
[debug] [2023-11-23T05:22:14.618Z] [update-default-us-central1-createDialogue] Retrying task index 0
[debug] [2023-11-23T05:22:14.618Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw [none]
[debug] [2023-11-23T05:22:14.795Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw 200
[debug] [2023-11-23T05:22:14.795Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9jcmVhdGVEaWFsb2d1ZS91R2RCZWI2OHZiZw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/createDialogue","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createDialogue","updateTime":"2023-11-23T04:46:24.576Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:11Z","buildId":"eb79373e-2647-4130-9122-29ce82530b4a","buildName":"projects/90911950757/locations/us-central1/builds/eb79373e-2647-4130-9122-29ce82530b4a"},"done":true,"error":{"code":3,"message":"Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: openai@3.3.0 from lock file\nnpm ERR! Missing: axios@0.26.1 from lock file\nnpm ERR! Missing: form-data@4.0.0 from lock file\nnpm ERR! Missing: follow-redirects@1.15.3 from lock file\nnpm ERR! Missing: asynckit@0.4.0 from lock file\nnpm ERR! Missing: combined-stream@1.0.8 from lock file\nnpm ERR! Missing: delayed-stream@1.0.0 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_01_854Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-11-23T05:22:14.796Z] Got source token undefined for region us-central1
[debug] [2023-11-23T05:22:14.796Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2023-11-23T05:22:14.796Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage {"name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","entryPoint":"generateImage","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[error] Build failed: npm ERR! code EUSAGE
npm ERR! 
npm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm ERR! 
npm ERR! Missing: openai@3.3.0 from lock file
npm ERR! Missing: axios@0.26.1 from lock file
npm ERR! Missing: form-data@4.0.0 from lock file
npm ERR! Missing: follow-redirects@1.15.3 from lock file
npm ERR! Missing: asynckit@0.4.0 from lock file
npm ERR! Missing: combined-stream@1.0.8 from lock file
npm ERR! Missing: delayed-stream@1.0.0 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm ERR! [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_01_854Z-debug-0.log; Error ID: beaf8772
[debug] [2023-11-23T05:22:15.245Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage 200
[debug] [2023-11-23T05:22:15.245Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z"}}
[debug] [2023-11-23T05:22:15.246Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:15.427Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:15.427Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z"}}
[debug] [2023-11-23T05:22:15.928Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:15.928Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:16.087Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:16.087Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:17.091Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:17.091Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:17.264Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:17.265Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:19.266Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:19.267Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:19.456Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:19.456Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:23.458Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:23.459Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:23.630Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:23.631Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:31.632Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:31.633Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:31.814Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:31.815Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:41.815Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:41.817Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:42.006Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:42.008Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:15Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"}}
[debug] [2023-11-23T05:22:52.008Z] [update-default-us-central1-generateImage] Retrying task index 0
[debug] [2023-11-23T05:22:52.009Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv [none]
[debug] [2023-11-23T05:22:52.205Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv 200
[debug] [2023-11-23T05:22:52.205Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv {"name":"operations/ZHJhZ29uLWZydWl0LWNvbWljcy1kNDcwNC91cy1jZW50cmFsMS9nZW5lcmF0ZUltYWdlLzVhZEZXS2lqdEhv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage","httpsTrigger":{"url":"https://us-central1-dragon-fruit-comics-d4704.cloudfunctions.net/generateImage","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"generateImage","updateTime":"2023-11-23T04:46:23.810Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"46bdc0bee11ecabad5bde25848e8fd0c8d3a2431"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-652173948611.us-central1.cloudfunctions.appspot.com/b2153915-627b-4b59-a5c5-3089d1eb0b4f.zip?GoogleAccessId=service-90911950757@gcf-admin-robot.iam.gserviceaccount.com&Expires=1700718696&Signature=YVNSuee7UpxpvXMKEewsKLgBMBWf4wUIveDx94sbRxCrBRFZykCMv7Ee8hew0V7BaXz3aQ3Hz5IurUivEL0T3vV13QrVQHmHQxO6gb4cRFXi4YKB8DB1yWiPi332kxM9ymJCHiSorHxAm1Jir%2BWmSlywjsByhbj7GHea9V5CmKGjX87pkzFHbCbMP6z1OrwM5jhcPgkYb9RDjouLg9RMP33K5VSXQOKyeuVwsnm38PQJAhcwtufIw%2B0o0S%2B69RgbgLLX0WLdo2nSm3zGw%2Bv66llI4rii0JlfnX79jDb5h0okpxvwyROKa6ZDY1giLuX8rCn1VT%2Fl5LSkqpmpNj7N9Q%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"dragon-fruit-comics-d4704","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"},"runtime":"nodejs18","buildId":"4c4ada01-06cc-4e3a-af69-8a041ebde91a","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/90911950757/locations/us-central1/builds/4c4ada01-06cc-4e3a-af69-8a041ebde91a","dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"5","updateTime":"2023-11-23T05:22:48Z","buildId":"34a63111-6b35-4ced-8421-c92a5406925e","buildName":"projects/90911950757/locations/us-central1/builds/34a63111-6b35-4ced-8421-c92a5406925e"},"done":true,"error":{"code":3,"message":"Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: openai@3.3.0 from lock file\nnpm ERR! Missing: axios@0.26.1 from lock file\nnpm ERR! Missing: form-data@4.0.0 from lock file\nnpm ERR! Missing: follow-redirects@1.15.3 from lock file\nnpm ERR! Missing: asynckit@0.4.0 from lock file\nnpm ERR! Missing: combined-stream@1.0.8 from lock file\nnpm ERR! Missing: delayed-stream@1.0.0 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_42_774Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2023-11-23T05:22:52.205Z] Got source token undefined for region us-central1
[error] Build failed: npm ERR! code EUSAGE
npm ERR! 
npm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm ERR! 
npm ERR! Missing: openai@3.3.0 from lock file
npm ERR! Missing: axios@0.26.1 from lock file
npm ERR! Missing: form-data@4.0.0 from lock file
npm ERR! Missing: follow-redirects@1.15.3 from lock file
npm ERR! Missing: asynckit@0.4.0 from lock file
npm ERR! Missing: combined-stream@1.0.8 from lock file
npm ERR! Missing: delayed-stream@1.0.0 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm ERR! [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_42_774Z-debug-0.log; Error ID: beaf8772
[debug] [2023-11-23T05:22:52.213Z] Total Function Deployment time: 74955
[debug] [2023-11-23T05:22:52.213Z] 2 Functions Deployed
[debug] [2023-11-23T05:22:52.213Z] 2 Functions Errored
[debug] [2023-11-23T05:22:52.213Z] 0 Function Deployments Aborted
[debug] [2023-11-23T05:22:52.213Z] Average Function Deployment time: 56250
[info] 
[info] Functions deploy had errors with the following functions:
	createDialogue(us-central1)
	generateImage(us-central1)
[debug] [2023-11-23T05:22:52.355Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2023-11-23T05:22:52.355Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2023-11-23T05:22:52.357Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/create_dialogue [none]
[debug] [2023-11-23T05:22:52.358Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/generate_image [none]
[debug] [2023-11-23T05:22:52.359Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dragon-fruit-comics-d4704/gcf/us-central1/tags/list [none]
[debug] [2023-11-23T05:22:52.696Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/create_dialogue 404
[debug] [2023-11-23T05:22:52.696Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/create_dialogue {"error":{"code":404,"message":"Package \"projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/create_dialogue\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-11-23T05:22:52.710Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/generate_image 404
[debug] [2023-11-23T05:22:52.710Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/generate_image {"error":{"code":404,"message":"Package \"projects/dragon-fruit-comics-d4704/locations/us-central1/repositories/gcf-artifacts/packages/generate_image\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-11-23T05:22:52.947Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dragon-fruit-comics-d4704/gcf/us-central1/tags/list 200
[debug] [2023-11-23T05:22:52.948Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dragon-fruit-comics-d4704/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"dragon-fruit-comics-d4704/gcf/us-central1","tags":[]}
[debug] [2023-11-23T05:22:52.948Z] Could not find image for function projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue
[debug] [2023-11-23T05:22:52.948Z] Could not find image for function projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage
[debug] [2023-11-23T05:22:52.948Z] Functions deploy failed.
[debug] [2023-11-23T05:22:52.949Z] {
  "endpoint": {
    "id": "createDialogue",
    "project": "dragon-fruit-comics-d4704",
    "region": "us-central1",
    "entryPoint": "createDialogue",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "dragon-fruit-comics-d4704",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dragon-fruit-comics-d4704/locations/us-central1/functions/createDialogue"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "46bdc0bee11ecabad5bde25848e8fd0c8d3a2431",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: openai@3.3.0 from lock file\nnpm ERR! Missing: axios@0.26.1 from lock file\nnpm ERR! Missing: form-data@4.0.0 from lock file\nnpm ERR! Missing: follow-redirects@1.15.3 from lock file\nnpm ERR! Missing: asynckit@0.4.0 from lock file\nnpm ERR! Missing: combined-stream@1.0.8 from lock file\nnpm ERR! Missing: delayed-stream@1.0.0 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_01_854Z-debug-0.log; Error ID: beaf8772",
    "status": 3,
    "code": 3
  }
}
[debug] [2023-11-23T05:22:52.949Z] {
  "endpoint": {
    "id": "generateImage",
    "project": "dragon-fruit-comics-d4704",
    "region": "us-central1",
    "entryPoint": "generateImage",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dragon-fruit-comics-d4704\",\"databaseURL\":\"https://dragon-fruit-comics-d4704-default-rtdb.firebaseio.com\",\"storageBucket\":\"dragon-fruit-comics-d4704.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "dragon-fruit-comics-d4704",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dragon-fruit-comics-d4704/locations/us-central1/functions/generateImage"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "46bdc0bee11ecabad5bde25848e8fd0c8d3a2431",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: openai@3.3.0 from lock file\nnpm ERR! Missing: axios@0.26.1 from lock file\nnpm ERR! Missing: form-data@4.0.0 from lock file\nnpm ERR! Missing: follow-redirects@1.15.3 from lock file\nnpm ERR! Missing: asynckit@0.4.0 from lock file\nnpm ERR! Missing: combined-stream@1.0.8 from lock file\nnpm ERR! Missing: delayed-stream@1.0.0 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2023-11-23T05_22_42_774Z-debug-0.log; Error ID: beaf8772",
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function createDialogue in region us-central1
[error] - Error Failed to update function generateImage in region us-central1
